<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{{ title or site.title }}</title>
  <meta name="description" content="{{ site.description }}">
  <!-- Site CSS -->
  <link rel="stylesheet" href="/styles.css">

  <!-- Google Fonts (Source Sans) -->
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">

  <!-- Font Awesome (v4 for fa-files-o, or v5/v6 with proper mapping) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
  <link rel="stylesheet" href="https://use.hugeicons.com/font/icons.css" />

  <!-- Academicons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons/css/academicons.min.css">
</head>

<body class="{% if page.fileSlug %}{{ page.fileSlug }}{% endif %}">
  <a class="skip-link" href="#main">Skip to content</a>

  <header class="site-header">
  <div class="site-header__inner">
    <a class="brand" href="/">MIRCEA TRANDAFIR</a>

    <!-- Mobile nav toggle -->
    <button class="nav-toggle" aria-label="Toggle navigation"
            aria-controls="main-nav" aria-expanded="false">
      <i class="fa fa-bars" aria-hidden="true"></i>
    </button>

    <nav class="main-nav" id="main-nav" aria-label="Primary">
      <a href="/" class="{% if page.url == '/' %}is-active{% endif %}">HOME</a>
      <a href="/research/" class="{% if page.url == '/research/' %}is-active{% endif %}">RESEARCH</a>
      <a href="/assets/CV/CV.pdf" target="_blank" rel="noopener">CV</a>
    </nav>
  </div>
</header>

<section class="hero">
  <div class="hero-overlay hero-content">
    <div class="hero-title">{{ heroTitle | default(title) | default("MIRCEA TRANDAFIR") }}</div>
    <div class="hero-subtitle"><em>{{ heroSubtitle | default("") }}</em></div>
  </div>
</section>

<main id="main">
  <main class="container">
    {{ content | safe }}
  </main>
</main>
<footer class="site-footer">
  <div class="site-footer__inner">
    <div class="footer-left">
      Â© Mircea Trandafir. Last updated: {% buildDate %}
    </div>
    <div class="footer-right">
      <a href="mailto:mt@rff.dk" title="Email"><i class="fa fa-envelope"></i></a>
      <a href="https://x.com/tramir" title="X (Twitter)"><i class="fa-brands fa-x-twitter"></i></a>
      <a href="https://www.linkedin.com/in/mircea-trandafir-2222111/" title="LinkedIn"><i class="fa-brands fa-linkedin"></i></a>
      <a href="https://scholar.google.com/citations?user=vWwbjQQAAAAJ&hl=en" title="Google Scholar"><i class="ai ai-google-scholar"></i></a> 
      <a href="https://ideas.repec.org/e/ptr158.html" title="RePEc"><i class="ai ai-ideas-repec"></i></a>
      <a href="https://orcid.org/0000-0003-4435-3740" title="ORCID"><i class="ai ai-orcid"></i></a>
    </div>
  </div>
</footer>

<script>
  // Hamburger menu
  window.addEventListener('DOMContentLoaded', function(){
    var header = document.querySelector('.site-header');
    var btn = document.querySelector('.nav-toggle');
    var nav = document.getElementById('main-nav');
    if (!header || !btn || !nav) return;

    btn.addEventListener('click', function(){
      var open = header.classList.toggle('is-nav-open');
      btn.setAttribute('aria-expanded', open ? 'true' : 'false');
    });

    // Close menu when clicking a link (optional)
    nav.addEventListener('click', function(e){
      if (e.target.tagName === 'A'){
        header.classList.remove('is-nav-open');
        btn.setAttribute('aria-expanded', 'false');
      }
    });

    // Close on Escape
    document.addEventListener('keydown', function(e){
      if (e.key === 'Escape'){
        header.classList.remove('is-nav-open');
        btn.setAttribute('aria-expanded', 'false');
      }
    });
  });
</script>
<script>
  // Close menu when clicking outside the header
  document.addEventListener('click', function(e){
    const header = document.querySelector('.site-header');
    const btn = document.querySelector('.nav-toggle');
    if (!header || !btn) return;
    if (!header.classList.contains('is-nav-open')) return;
    if (!header.contains(e.target)) {
      header.classList.remove('is-nav-open');
      btn.setAttribute('aria-expanded', 'false');
    }
  });
</script>
</body>
</html>
